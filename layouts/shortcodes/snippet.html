{{- $inputParams := "" -}}
{{- $pageDir := path.Join "content" .Page.File.Dir -}}
{{- if .IsNamedParams -}}
{{- $inputParams = merge (dict "path" $pageDir) .Params -}}
{{- else -}}
{{- if eq (len .Params) 1 -}}
{{- $inputParams = .Params | append $pageDir -}}
{{- else -}}
{{- $inputParams = .Params  -}}
{{- end -}}
{{- end -}}
{{- $params := partial "snippetParams.txt" $inputParams -}}
{{- partial "snippet.txt" $params -}}